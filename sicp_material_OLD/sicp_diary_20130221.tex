%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

% THIS TEMPLATE IS DATED 20111201

\documentclass[11pt,asymmetric]{article}
\usepackage[tmargin=1in, bmargin=1in, lmargin=0.5in, rmargin=0.5in]{geometry}
\geometry{letterpaper}
%\geometry{landscape} % Activate for for rotated page geometry
%\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage[fleqn,reqno]{amsmath}
\usepackage{mathspec}			% replaces amssymb; do not use unicode-math
\usepackage{url}
\usepackage{multicol}
\usepackage{uml}				% for Unified Modeling Language
\usepackage{datetime}		% allows \currenttime
\usepackage{verbatim} % allows control of font-size of verbatim text (disadvantage: "\" must be replaced with "\(\backslash\)"
\usepackage{bbold}				% allows use of \mathbb forms

\usepackage[italic,noendash]{mathastext}	% propagates document text font to math mode; use option italic to get italic text in math mode

%\usepackage{mdwtab}				% allows the use of footnotes in tables; warning --- seems to affect functioning of \hline
\usepackage[hang,flushmargin]{footmisc}	% makes footnotes flush with margin, etc.
\usepackage{setspace}			% control of line spacing
\usepackage[normalem]{ulem}		% underlining (with ``normal emphasis'' retained)
\usepackage{alltt} % allows control of font-size of verbatim text (disadvantage: "\" must be replaced with "\(\backslash\)"
\usepackage{comment}				% allows
%\usepackage{paralist}			% enables more compact lists; use compactitem, compactenum, and compactdesc
%\usepackage{enumitem}			% enables more flexible spacing in lists
%\setenumerate{itemsep=0pt}
%\setlist{nolistsep,leftmargin=0.1in}
%\setlist{nolistsep}
\usepackage{longtable}		% allows breaking of tables across pages with \begin{longtable}

%\usepackage[italic,noendash]{mathastext}	% propagates document text font to math mode; use option italic to get italic text in math mode


\usepackage[fallback]{xeCJK}[2011/05/01 v2.3.19]
\usepackage{fontspec}
\defaultfontfeatures{Mapping=tex-text}
\setromanfont{TeX Gyre Termes}
\setsansfont[Scale=MatchLowercase]{Doulos SIL}
\setCJKmainfont{HAN NOM A}
\setCJKfallbackfamilyfont{\CJKrmdefault}{Han Nom B}	% goes with Han Nom A

\graphicspath{{./graphics/}}
\DeclareGraphicsExtensions{.jpg,.jpeg,.png}
\newcommand\gr[2]{\scalebox{#2}{\includegraphics{#1}}}
\usepackage{calc}
\newlength{\imgwidth}
\newcommand\grw[1]{%   
    \settowidth{\imgwidth}{\includegraphics{#1}}%
    \setlength{\imgwidth}{\minof{\imgwidth}{\textwidth}}%
    \includegraphics[width=\imgwidth]{#1}%
}
\newlength{\imgheight}
\newcommand\grh[1]{%   
    \settoheight{\imgheight}{\includegraphics{#1}}%
    \setlength{\imgheight}{\minof{\imgheight}{\textheight}}%
    \includegraphics[height=\imgheight]{#1}%
}



\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[RO]{\textbf\leftmark}
\fancyhead[LE]{\textbf\rightmark}
\fancyhead[RE,LO]{\footnotesize{printed at \currenttime, \today}}
\fancyfoot[C]{\thepage}
\headheight14.5pt		% this value chosen in response to warning messages

\usepackage{alltt}
\usepackage{color}
\definecolor{dark-green}{rgb}{0.2, 0.8, 0.2}
\usepackage{listings}
\lstset{basicstyle=\ttfamily\footnotesize,frame=lines,captionpos=b,tabsize=4,keywordstyle=\color{blue},commentstyle=\color{dark-green},stringstyle=\color{red},numbers=left,numberstyle=\tiny,numbersep=5pt,breaklines=true,showstringspaces=false}
\usepackage{url}
\usepackage{hyperref}


% define section, subsection, subsubsection for TOC
\newcommand\sect[1]{%
 \section*{#1}\markboth{#1}{#1}\addcontentsline{toc}{section}{#1}}

%\renewcommand\subsection[1]{\thesection: #1}

%%%%%%%%%%%%%%%%%%%%
%%%  TOC START   %%%
%%%%%%%%%%%%%%%%%%%%
% from http://www.latex-community.org/forum/viewtopic.php?f=4&t=2815
% ----- ToC format -----

\usepackage{titletoc}
\titlecontents{section}[2em]  % absolute left margin of TOC
{\addvspace{-1.0em}} % vertical distance between entries and format of entries
{\contentslabel{2em}} % distance between left column edge and start of TOC entry
{\hspace*{-2em}}
{\titlerule*[0.3pc]{.}\contentspage} % symbol for ``rule'' and distance between

\titlecontents{subsection}[3em]
{\addvspace{-1.0em}}
{\contentslabel{2em}} % distance between left column edge and start of TOC entry
{\hspace*{-.8em}} % with numbering
{\titlerule*[0.3pc]{.}\contentspage}

%\usepackage{titletoc}
%\titlecontents{section}[2em]
%{\addvspace{-1.0em}\bfseries}
%{\contentslabel{2em}}
%{\hspace*{-2em}}
%{\titlerule*[0.8pc]{.}\contentspage}
%
%\titlecontents{subsection}[3.5em]
%{\addvspace{-1.0em}}
%{\contentslabel{2.8em}}
%{\hspace*{-2.2em}}
%{\titlerule*[0.8pc]{.}\contentspage}

\titlecontents{subsubsection}[5em]
{\addvspace{-1.0em}}
{\contentslabel{3em}} % distance between left column edge and start of TOC entry
{\hspace*{-2em}}
{\titlerule*[0.3pc]{.}\contentspage}

% ---------------

% ----- Redefinition of \section -----
\makeatletter
\renewcommand\section{\@startsection{section}{1}{0pt}%
                 {-3.5ex plus -1ex minus -.2ex}%
                 {2.3ex plus.2ex}%
                 {\normalfont\Large\bfseries}}
\makeatother
% ----- Redefinition of \subsection -----
\makeatletter
\renewcommand\subsection{\@startsection{subsection}{1}{0pt}%
                 {-3.5ex plus -1ex minus -.2ex}%
                 {2.3ex plus.2ex}%
                 {\normalfont\Large\bfseries}}
\makeatother
% ----------------------
\renewcommand{\thesection}{\Roman{section}} % Numbering format for TOC
%\renewcommand{\thesubsection}{\arabic{subsection}}
\renewcommand{\thesubsection}{\Roman{section}.\arabic{subsection}}
%\renewcommand{\thesubsection}{â€¢}
\renewcommand{\thesubsubsection}{\Roman{section}.\arabic{subsection}.\Alph{subsubsection}}

\usepackage{hyperref}            % adds clickable links to TOC

%%%%%%%%%%%%%%%%%%%%
%%%  TOC  END   %%%
%%%%%%%%%%%%%%%%%%%%


\widowpenalty=10000			% avoid widows
\clubpenalty=10000			% avoid orphans

\frenchspacing
\raggedright

\parskip12pt



\title{Scheme diary 20130219}
\author{David Prager Branner}
%\date{}                                           % Activate to display a given date or no date

\setlength{\parindent}{0cm}	% no paragraph indent

\begin{document}
\maketitle

\pagenumbering{roman}

\begin{multicols}{2}
\setlength\columnseprule{.2pt}
\tableofcontents
\end{multicols}



\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[RO]{\textbf\leftmark}
\fancyhead[LE]{\textbf\rightmark}
\fancyhead[RE,LO]{\footnotesize{printed at \currenttime, \today}}
\fancyfoot[C]{\thepage}
\headheight14.5pt		% this value chosen in response to warning messages
\pagenumbering{arabic}


%%%%%%%%%%%%%%%%%
%%% Content begins here %%%
%%%%%%%%%%%%%%%%%

\section{20130219}
\subsection*{Exercise 1.1}
\begin{lstlisting}
10
  10

(+ 5 3 4)
  12
  
(- 9 1)
  8

(/ 6 2)
  3

(+ (* 2 4) (- 4 6))
  6
  
(define a 3)
  [I don't know; answer was a]
  
(define b (+ a 1))
  b
  [dpb: note that a change to a now will *not* automatically change the value of b]

(+ a b (* a b))
  19

(= a b)
  a
  [dpb: wrong; correct answer is #f; this is a conditional expression]

(if (and (> b a) (< b (* a b)))
    b
    a)
  4

(cond ((= a 4) 6)
      ((= b 4) (+ 6 7 a))
      (else 25))
  16

(+ 2 (if (> b a) b a))
  6

(* (cond ((> a b) a)
         ((< b 4) (+ 6 7 a))
         (else -1))
    (+ a 1))
  -4
\end{lstlisting}

\subsection*{Exercise 1.2}
\begin{lstlisting}
(/ (+ 5 4
    (- 2 
       (- 3 
          (+ 6 
             (/ 4 5)))))
    (* 3 (- 6 2) (- 2 7)))
;Value: -37/150
\end{lstlisting}

Written out as a long line: \begin{lstlisting}
(/ (+ 4 5 (- 2 (- 3 (+ 6 (/ 4 5))))) (* 3 (- 6 2) (- 2 7)))
\end{lstlisting}


\subsection*{Exercise 1.3}
\begin{enumerate}
\item Find sum.
\item Subtract minimum, using \texttt{min}.
\item Define maximum (using \texttt{max}) as \texttt{m1}. 
\item Subtract \texttt{m1} from sum to define second-largest, as \texttt{m2}.
\item Sum the squares of \texttt{m1} and \texttt{m2}.
\end{enumerate}
Not sure yet how to get input from user.
\begin{lstlisting}
(define (sum-squ-two-max a b c) 
    (define (sum) (- 
                  (+ a b c))
                  (min a b c))
    (define (m1) (max a b c))
    (define (m2) (- sum m1))
    (+ (* m1 m1) (* m2 m2)))
    
\end{lstlisting}
Code not yet working. The following is from 20130221:
\begin{lstlisting}
(define (sum-squ-two-max a b c) 
    (define s (+ a b c))
    (define m1 (max a b c ))
    (define r (- s m1))
    (define m2 (- r (min a b c)))
    (+ (* m1 m1) (* m2 m2)))
\end{lstlisting}
This is by Alex Beaulne:\begin{lstlisting}
(define (s a b c)
    (define (SoM x y)
        (cond ((> x y) (* x x))
            (else (* y y))))
    (cond ((> a b) (+ (* a a) (SoM b c)))
        (else (+ (* b b) (SoM a c)))))
\end{lstlisting}


\subsection*{Exercise 1.4}

\section{Notes}
\begin{enumerate}
\item Variables are immutable.
\item \texttt{cond}: (``predicate'' ``consequent expression'')
\item ``applicative'': only calculate what is actually needed; ``normal'': calculate everything firs and then see what you need.

\end{enumerate}

\end{document}







